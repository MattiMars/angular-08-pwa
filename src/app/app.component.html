<div class="container-fluid py-3">
  <h1>Angular Progressive Web Application (PWA)</h1>

  <div class="row my-5">
    <div class="col text-end">Status:</div>
    <div class="col">
      @if (isOnline) {
      <span class="badge bg-success">Online</span>
      }@else {
      <span class="badge bg-danger">Offline</span>
      }
    </div>
  </div>
</div>

@if (modalVersion) {
<div class="w-100 position-absolute top-0">
  <div class="alert alert-secondary m-2">
    <button
      type="button"
      class="btn-close position-absolute top-0 end-0 m-1"
      aria-label="Close"
      (click)="closeVersion()"
    ></button>
    A new version of this app is available.
    <a href="" (click)="updateVersion()">Update now</a>
  </div>
</div>
} 

@if (modalPwaPlatform === 'ANDROID' || modalPwaPlatform === 'IOS') {
<div class="w-100 position-absolute bottom-0">
  <div class="alert alert-secondary m-2">
    <button
      type="button"
      class="btn-close position-absolute top-0 end-0 m-1"
      aria-label="Close"
      (click)="closePwa()"
    ></button>
    <!-- Android -->
    @if (modalPwaPlatform==='ANDROID') {
    <div (click)="addToHomeScreen()">Add this WEB app to home screen</div>
    }
    <!-- iOS with Safari -->
    @if (modalPwaPlatform==='IOS') {
    <div>
      To install this WEB app on your device, tap the "Menu" button
      <img
        src="https://res.cloudinary.com/rodrigokamada/image/upload/v1641089482/Blog/angular-pwa/safari_action_button_38x50.png"
        class="ios-menu m-0"
      />
      and then "Add to home screen" button
      <i class="bi bi-plus-square"></i>
    </div>
    }
  </div>
</div>
}
